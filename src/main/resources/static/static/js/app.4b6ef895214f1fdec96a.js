webpackJsonp([0],{"+skl":function(t,e){},0:function(t,e){},Asud:function(t,e){},IVmQ:function(t,e){},Jm8U:function(t,e){},MAoG:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),r=s("BTaQ"),n=s.n(r),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},o=s("VU/8")({name:"root"},i,!1,function(t){s("IVmQ")},null,null).exports,l=s("/ocq"),u={props:["active_org"],data:function(){return{}},created:function(){console.log(this.active_org)}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout"},[s("Menu",{attrs:{mode:"horizontal",theme:"dark"}},[s("div",{staticClass:"layout-nav"},[s("MenuItem",{attrs:{name:"1"}},[s("Icon",{attrs:{type:"social-github"}}),t._v("\n\t\t\t\t\t\tGitHub评审辅助系统\n\t\t\t\t\t")],1),t._v(" "),s("router-link",{attrs:{to:"/rec"}},[s("MenuItem",{attrs:{name:"2"}},[s("Icon",{attrs:{type:"android-happy"}}),t._v("\n\t\t\t\t\t\t评审者推荐\n\t\t\t\t\t")],1)],1),t._v(" "),s("router-link",{attrs:{to:"/predict"}},[s("MenuItem",{attrs:{name:"3"}},[s("Icon",{attrs:{type:"ios-eye"}}),t._v("\n\t\t\t\t\t\t评审结果预测\n\t\t\t\t\t")],1)],1),t._v(" "),s("MenuItem",{staticStyle:{right:"5px",position:"absolute"},attrs:{name:"3"}},[s("Icon",{attrs:{type:"link"}}),t._v("\n          powered by "),s("a",{attrs:{href:"https://ayonel.me",target:"_blank"}},[t._v("ayonel.me")])],1)],1)])],1)},staticRenderFns:[]},p=s("VU/8")(u,c,!1,function(t){s("Asud")},"data-v-71ab6994",null).exports,h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Row",{attrs:{"class-name":"myrow"}},[e("Col",{attrs:{span:"24"}},[this._v("power by "),e("a",{attrs:{href:"https://ayonel.me",target:"_blank"}},[this._v("ayonel.me")])])],1)},staticRenderFns:[]},_=s("VU/8")({},h,!1,function(t){s("zIT5")},"data-v-62a3f747",null).exports,v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Col",{staticClass:"layout-menu-left",attrs:{span:"5"}},[s("Menu",{attrs:{"active-name":"1-2",theme:"dark",width:"auto"},on:{"on-select":t.onSelect}},[s("div",{staticClass:"layout-logo-left"}),t._v(" "),s("Submenu",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("Icon",{attrs:{type:"ios-keypad"}}),t._v("\n        项目列表【"+t._s(t.active_org)+"】\n      ")],1),t._v(" "),t._l(t.orgs,function(e){return s("MenuItem",{key:e,attrs:{name:e,data:e}},[t._v("\n        "+t._s(e)+"\n      ")])})],2)],1)],1)},staticRenderFns:[]},g=s("VU/8")({props:["orgs","active_org"],data:function(){return{active_org_copy:""}},methods:{onSelect:function(t){this.$emit("change-org",t)}}},v,!1,function(t){s("kaqn")},"data-v-90996ecc",null).exports,d={name:"index",components:{myHeader:p,myFooter:_,myLefter:g},created:function(){this.$router.push({path:"/rec"})}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header"),this._v(" "),e("my-lefter"),this._v(" "),e("my-footer")],1)},staticRenderFns:[]},f=s("VU/8")(d,m,!1,function(t){s("MAoG")},"data-v-a3a285f4",null).exports,y={props:["pulls","type","active_org","total_pulls","from_page","current_page"],data:function(){var t=this;return{columns:[{title:"编号",key:"number"},{title:"标题",key:"title"},{title:"提交者",key:"submitter"},{title:"提交时间",key:"created_at"},{title:"操作",key:"option",render:function(e,s){return e("div",[e("Button",{on:{click:function(){t.jumpToInfo(s.row.number)}}},t.type_copy)])}}],pulls_copy:[],type_copy:"推荐"}},methods:{initTable:function(){this.pulls_copy=this.pulls,this.type_copy=this.type,console.log(this.type_copy)},jumpToInfo:function(t){"推荐"==this.type_copy?this.$router.push({path:"/rec_info/"+this.active_org+"/"+t+"/"+this.from_page}):this.$router.push({path:"/predict_info/"+this.active_org+"/"+t+"/"+this.from_page})},onChange:function(t){this.$emit("change-page",t)}},watch:{pulls:function(){this.initTable()}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("Col",{attrs:{span:"19"}},[e("Table",{attrs:{border:"",columns:this.columns,data:this.pulls_copy}}),this._v(" "),e("Page",{attrs:{"show-elevator":"","page-size":15,total:this.total_pulls,current:this.current_page},on:{"on-change":this.onChange}})],1)},staticRenderFns:[]},b=s("VU/8")(y,w,!1,function(t){s("SwCL")},null,null).exports,R={components:{myHeader:p,myFooter:_,myLefter:g,myTable:b},data:function(){return{orgs:[],active_org:"",active_number:0,pulls:[],type:"预测",total_pulls:0,page:1,current_page:1}},created:function(){"/predict"==this.$route.path?this.getOrgs():(this.getOrgsOnly(),this.active_org=this.$route.params.org,this.current_page=parseInt(this.$route.params.page),this.getActiveOrgPulls(this.$route.params.org,this.$route.params.page))},methods:{getOrgs:function(){var t=this;this.$http.get("/api/predict/orgs").then(function(e){t.orgs=e.data,t.active_org=t.orgs[0],t.getActiveOrgPulls(t.active_org,1)},function(t){alert(t.status())})},getOrgsOnly:function(){var t=this;this.$http.get("/api/predict/orgs").then(function(e){t.orgs=e.data},function(t){alert(t.status())})},getActiveOrgPulls:function(t,e){var s=this;this.$http.get("/api/predict/"+t+"/page/"+e).then(function(t){s.pulls=[];for(var e in t.data){var a={number:t.data[e].number,title:t.data[e].title,submitter:t.data[e].submitted_by,created_at:s.$utils.formatTimeStamp(t.data[e].created_at),option:1};s.pulls.push(a)}s.getTotalPulls(s.active_org)},function(t){alert(t.status())})},getTotalPulls:function(t){var e=this;this.$http.get("/api/predict/"+t+"/total_nums").then(function(t){e.total_pulls=t.data},function(t){alert(t.status())})},listenOrgChanged:function(t){this.active_org=t,this.current_page=1,this.pulls=this.getActiveOrgPulls(this.active_org,1)},listenPageChanged:function(t){this.page=t,this.getActiveOrgPulls(this.active_org,t)}}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header",{attrs:{active_org:this.active_org}}),this._v(" "),e("div",{staticClass:"layout"},[e("Row",{attrs:{type:"flex"}},[e("my-lefter",{attrs:{orgs:this.orgs,active_org:this.active_org},on:{"change-org":this.listenOrgChanged}}),this._v(" "),e("my-table",{attrs:{pulls:this.pulls,type:this.type,total_pulls:this.total_pulls,active_org:this.active_org,from_page:this.page,current_page:this.current_page},on:{"change-page":this.listenPageChanged}})],1)],1)],1)},staticRenderFns:[]},C=s("VU/8")(R,$,!1,function(t){s("psO3")},"data-v-f124f32e",null).exports,O={data:function(){return{pull:{},show:!1,from_url:"",ACC:0}},created:function(){this.handleSpinCustom(),this.from_url="/predict/"+this.$route.params.org+"/"+this.$route.params.page,this.getPullinfo(this.$route.params.org,this.$route.params.number)},methods:{getPullinfo:function(t,e){var s=this;this.$http.get("/api/predict/"+t+"/"+e).then(function(e){s.pull=e.data,s.pull.created_at=s.$utils.formatTimeStamp(s.pull.created_at),s.pull.merged==s.pull.predictMerged&&(s.ACC=100),s.show=!0,s.from_url="/predict/"+t+"/"+s.$route.params.from_page},function(t){alert(t.status())})},handleSpinCustom:function(){var t=this;this.$Spin.show({render:function(t){return t("div",[t("Icon",{class:"demo-spin-icon-load",props:{type:"load-c",size:58}}),t("div",{class:"custom"},"预测中...")])}}),setTimeout(function(){t.$Spin.hide()},800)}}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}]},[e("audio",{attrs:{src:"/static/predicting.wav",autoplay:"autoplay"}},[this._v("\n    Your browser does not support the audio tag.\n  ")]),this._v(" "),e("Card",[e("Card",[e("Row",[e("Col",{attrs:{span:"22"}},[e("h1",[this._v("预测结果:")])]),this._v(" "),e("Col",{attrs:{span:"2"}},[e("router-link",{attrs:{to:this.from_url}},[e("Button",{attrs:{type:"primary"}},[e("Icon",{attrs:{type:"chevron-left"}}),this._v("\n            返回\n          ")],1)],1)],1)],1),this._v(" "),e("div",{staticClass:"thin_line"},[e("Row",{attrs:{"class-name":"my_thin_row"}})],1),this._v(" "),e("h3",[this._v("预测评审结果:")]),this._v(" "),e("Row",[this.pull.predictMerged?e("Button",{attrs:{type:"success",size:"large"}},[this._v("\n          接受\n        ")]):e("Button",{attrs:{type:"error",size:"large"}},[this._v("\n          拒绝\n        ")]),this._v(" "),e("span")],1),this._v(" "),e("br"),this._v(" "),e("div",{attrs:{id:"thin_line"}},[e("Row",{attrs:{"class-name":"my_thin_row"}})],1),this._v(" "),e("h3",[this._v("实际评审结果:")]),this._v(" "),e("Row",[this.pull.merged?e("Button",{attrs:{type:"success",size:"large"}},[this._v("\n          接受\n        ")]):e("Button",{attrs:{type:"error",size:"large"}},[this._v("\n          拒绝\n        ")])],1),this._v(" "),e("br"),this._v(" "),e("div",{attrs:{id:"thin_line"}},[e("Row",{attrs:{"class-name":"my_thin_row"}})],1),this._v(" "),e("h3",[this._v("评估结果:")]),this._v(" "),e("Row",[e("Progress",{attrs:{percent:this.ACC}})],1)],1),this._v(" "),e("div",{staticClass:"fat_line"},[e("Row",{attrs:{"class-name":"my_fat_row"}},[e("Col",{attrs:{span:"24"}},[this._v("col-24")])],1)],1),this._v(" "),e("Card",[e("Row",[e("Col",{attrs:{span:"24"}},[e("h1",[this._v("PR信息:")])])],1),this._v(" "),e("div",{staticClass:"thin_line"},[e("Row",{attrs:{"class-name":"my_thin_row"}})],1),this._v(" "),e("p",[e("strong",[this._v("编号:")]),this._v(this._s(this.pull.number))]),this._v(" "),e("p",[e("strong",[this._v("标题:")]),this._v(this._s(this.pull.title))]),this._v(" "),e("p",[e("strong",[this._v("提交者:")]),this._v(this._s(this.pull.submitted_by))]),this._v(" "),e("p",[e("strong",[this._v("提交时间:")]),this._v(this._s(this.pull.created_at))])],1)],1)],1)},staticRenderFns:[]},T=s("VU/8")(O,P,!1,function(t){s("QbAP")},"data-v-401b00f3",null).exports,k={components:{myHeader:p,myFooter:_,myLefter:g,myTable:b},data:function(){return{orgs:[],active_org:"",active_number:0,pulls:[],type:"推荐",total_pulls:0,page:1,current_page:1}},created:function(){"/rec"==this.$route.path?this.getOrgs():(this.getOrgsOnly(),this.active_org=this.$route.params.org,this.current_page=parseInt(this.$route.params.page),this.getActiveOrgPulls(this.$route.params.org,this.$route.params.page))},methods:{getOrgs:function(){var t=this;this.$http.get("/api/rec/orgs").then(function(e){t.orgs=e.data,t.active_org=t.orgs[0],t.getActiveOrgPulls(t.active_org,1)},function(t){alert(t.status())})},getOrgsOnly:function(){var t=this;this.$http.get("/api/rec/orgs").then(function(e){t.orgs=e.data},function(t){alert(t.status())})},getActiveOrgPulls:function(t,e){var s=this;this.$http.get("/api/rec/"+t+"/page/"+e).then(function(t){s.pulls=[];for(var e in t.data){var a={number:t.data[e].number,title:t.data[e].title,submitter:t.data[e].submitted_by,created_at:s.$utils.formatTimeStamp(t.data[e].created_at),option:1};s.pulls.push(a)}s.getTotalPulls(s.active_org)},function(t){alert(t.status())})},getTotalPulls:function(t){var e=this;this.$http.get("/api/rec/"+t+"/total_nums").then(function(t){e.total_pulls=t.data},function(t){alert(t.status())})},listenOrgChanged:function(t){this.active_org=t,this.current_page=1,this.getActiveOrgPulls(this.active_org,1)},listenPageChanged:function(t){this.page=t,this.getActiveOrgPulls(this.active_org,t)}}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("my-header",{attrs:{active_org:this.active_org}}),this._v(" "),e("div",{staticClass:"layout"},[e("Row",{attrs:{type:"flex"}},[e("my-lefter",{attrs:{orgs:this.orgs,active_org:this.active_org},on:{"change-org":this.listenOrgChanged}}),this._v(" "),e("my-table",{attrs:{pulls:this.pulls,type:this.type,total_pulls:this.total_pulls,active_org:this.active_org,from_page:this.page,current_page:this.current_page},on:{"change-page":this.listenPageChanged}})],1)],1)],1)},staticRenderFns:[]},A=s("VU/8")(k,I,!1,null,null,null).exports,M={data:function(){return{pull:{},MRR:0,show:!1,buttonType:[],from_url:""}},created:function(){this.handleSpinCustom(),this.from_url="/rec/"+this.$route.params.org+"/"+this.$route.params.page,this.getPullinfo(this.$route.params.org,this.$route.params.number)},methods:{getPullinfo:function(t,e){var s=this;this.$http.get("/api/rec/"+t+"/"+e).then(function(e){s.pull=e.data,s.pull.created_at=s.$utils.formatTimeStamp(s.pull.created_at),s.MRR=s.calMRR(s.pull.predictReviewers,s.pull.actualReviewer),s.show=!0,s.buttonType=[];for(var a in s.pull.predictReviewers)s.pull.predictReviewers[a]==s.pull.actualReviewer?s.buttonType.push("success"):s.buttonType.push("error");s.from_url="/rec/"+t+"/"+s.$route.params.from_page},function(t){alert(t.status())})},calMRR:function(t,e){return t.includes(e)?100/(t.indexOf(e)+1):0},handleSpinCustom:function(){var t=this;this.$Spin.show({render:function(t){return t("div",[t("Icon",{class:"demo-spin-icon-load",props:{type:"load-c",size:58}}),t("div",{class:"custom"},"推荐中...")])}}),setTimeout(function(){t.$Spin.hide()},800)}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("audio",{attrs:{src:"/static/recing.wav",autoplay:"autoplay"}},[t._v("\n    Your browser does not support the audio tag.\n  ")]),t._v(" "),s("Card",[s("Card",[s("Row",[s("Col",{attrs:{span:"22"}},[s("h1",[t._v("推荐结果:")])]),t._v(" "),s("Col",{attrs:{span:"2"}},[s("router-link",{attrs:{to:t.from_url}},[s("Button",{attrs:{type:"primary"}},[s("Icon",{attrs:{type:"chevron-left"}}),t._v("\n          返回\n          ")],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"thin_line"},[s("Row",{attrs:{"class-name":"my_thin_row"}})],1),t._v(" "),s("h3",[t._v("推荐决策者列表:")]),t._v(" "),s("Row",[s("ButtonGroup",[t._l(t.pull.predictReviewers,function(e,a){return s("Button",{key:e,attrs:{type:t.buttonType[a],data:e,size:"large"}},[t._v("\n            "+t._s(e)+"\n          ")])}),t._v(" "),s("span")],2)],1),t._v(" "),s("br"),t._v(" "),s("div",{attrs:{id:"thin_line"}},[s("Row",{attrs:{"class-name":"my_thin_row"}})],1),t._v(" "),s("h3",[t._v("实际决策者:")]),t._v(" "),s("Row",[s("Button",{attrs:{type:"success",size:"large"}},[t._v("\n            "+t._s(t.pull.actualReviewer)+"\n          ")])],1),t._v(" "),s("br"),t._v(" "),s("div",{attrs:{id:"thin_line"}},[s("Row",{attrs:{"class-name":"my_thin_row"}})],1),t._v(" "),s("h3",[t._v("MRR得分:")]),t._v(" "),s("Row",[s("Progress",{attrs:{percent:t.MRR}})],1)],1),t._v(" "),s("div",{staticClass:"fat_line"},[s("Row",{attrs:{"class-name":"my_fat_row"}},[s("Col",{attrs:{span:"24"}},[t._v("col-24")])],1)],1),t._v(" "),s("Card",[s("Row",[s("Col",{attrs:{span:"24"}},[s("h1",[t._v("PR信息:")])])],1),t._v(" "),s("div",{staticClass:"thin_line"},[s("Row",{attrs:{"class-name":"my_thin_row"}})],1),t._v(" "),s("p",[s("strong",[t._v("编号:")]),t._v(t._s(t.pull.number))]),t._v(" "),s("p",[s("strong",[t._v("标题:")]),t._v(t._s(t.pull.title))]),t._v(" "),s("p",[s("strong",[t._v("提交者:")]),t._v(t._s(t.pull.submitted_by))]),t._v(" "),s("p",[s("strong",[t._v("提交时间:")]),t._v(t._s(t.pull.created_at))])],1)],1)],1)},staticRenderFns:[]},x=s("VU/8")(M,S,!1,function(t){s("Jm8U")},null,null).exports,F={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},U=s("VU/8")({},F,!1,function(t){s("wbbU")},null,null).exports;a.default.use(l.a);var V=new l.a({routes:[{path:"/",name:"index",component:f},{path:"/predict",name:"predict",component:C},{path:"/predict/:org/:page",name:"predict",component:C},{path:"/predict_info/:org/:number/:from_page",name:"predict_info",component:T},{path:"/rec",name:"rec",component:A},{path:"/rec/:org/:page",name:"rec",component:A},{path:"/rec_info/:org/:number/:from_page",name:"rec_info",component:x},{path:"/test",name:"test",component:U}]}),z=(s("+skl"),{});z.title=function(t){t=t?t+" - Home":"iView project",window.document.title=t},z.formatTimeStamp=function(t){var e=new Date(1e3*t),s=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var r=e.getDate();r=r<10?"0"+r:r;var n=e.getHours();n=n<10?"0"+n:n;var i=e.getMinutes(),o=e.getSeconds();return i=i<10?"0"+i:i,o=o<10?"0"+o:o,s+"-"+a+"-"+r+" "+n+":"+i+":"+o};var B=z,E=s("ORbq");a.default.config.productionTip=!1,a.default.use(V),a.default.use(n.a),a.default.use(E.a),a.default.prototype.$utils=B,new a.default({el:"#app",router:V,template:"<App/>",components:{App:o}})},QbAP:function(t,e){},SwCL:function(t,e){},kaqn:function(t,e){},psO3:function(t,e){},wbbU:function(t,e){},zIT5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4b6ef895214f1fdec96a.js.map